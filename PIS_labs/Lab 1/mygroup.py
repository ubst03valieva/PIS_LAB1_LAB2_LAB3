# Создаю список словарей с данными о студентах группы
# Каждый словарь содержит информацию об одном студенте
groupmates = [
    {
        "name": "Александр",      # Имя студента
        "surname": "Иванов",       # Фамилия студента
        "exams": ["Информатика", "ЭЭиС", "Web"],  # Список экзаменов
        "marks": [4, 3, 5]         # Список оценок соответственно экзаменам
    },
    {
        "name": "Иван",
        "surname": "Петров", 
        "exams": ["История", "АиГ", "КТП"],
        "marks": [4, 4, 4]
    },
    {
        "name": "Кирилл",
        "surname": "Смирнов",
        "exams": ["Философия", "ИС", "КТП"],
        "marks": [5, 5, 5]
    },
    {
        "name": "Мария",
        "surname": "Соколова",
        "exams": ["Информатика", "ЭЭиС", "Web"],
        "marks": [5, 4, 5]
    },
    {
        "name": "Елена",
        "surname": "Козлова",
        "exams": ["История", "АиГ", "КТП"],
        "marks": [3, 4, 3]
    }
]

# Создаю функцию для вывода всех студентов в виде таблицы
def print_students(students):
    # Вывожу заголовки таблицы с выравниванием по ширине
    # u перед строкой означает Unicode-кодировку
    # ljust(15) добавляет пробелы справа до длины 15 символов
    # Аналог: можно использовать форматирование f"{text:<15}"
    print(u"Имя".ljust(15), u"Фамилия".ljust(10), u"Экзамены".ljust(30), u"Оценки".ljust(20))
    
    # Перебираю каждого студента в переданном списке
    for student in students:
        # Вывожу данные каждого студента в одну строку
        # str() преобразует списки в строку для вывода
        print(student["name"].ljust(15), student["surname"].ljust(10), 
              str(student["exams"]).ljust(30), str(student["marks"]).ljust(20))

# Создаю функцию фильтрации студентов по среднему баллу
def filter_students_by_average(students, average_mark):
    """
    Функция фильтрует студентов по среднему баллу
    students - список студентов для фильтрации
    average_mark - минимальный средний балл для отбора
    """
    # Создаю пустой список для отфильтрованных студентов
    filtered_students = []
    
    # Перебираю каждого студента
    for student in students:
        # Вычисляю средний балл студента
        # sum() суммирует все оценки, len() возвращает количество оценок
        # Аналог: можно использовать цикл для суммирования
        student_average = sum(student["marks"]) / len(student["marks"])
        
        # Если средний балл выше заданного, добавляю студента в результат
        if student_average > average_mark:
            filtered_students.append(student)
    
    # Возвращаю список отфильтрованных студентов
    return filtered_students

# Основная часть программы
if __name__ == "__main__":
    # Вывожу всех студентов
    print("Список всех студентов:")
    print_students(groupmates)
    
    # Запрашиваю у пользователя минимальный средний балл
    # input() получает строку от пользователя
    # float() преобразует строку в число с плавающей точкой
    try:
        min_average = float(input("\nВведите минимальный средний балл для фильтрации: "))
        
        # Фильтрую студентов по среднему баллу
        filtered = filter_students_by_average(groupmates, min_average)
        
        # Проверяю, есть ли студенты после фильтрации
        if filtered:
            print(f"\nСтуденты со средним баллом выше {min_average}:")
            print_students(filtered)
        else:
            print(f"\nНет студентов со средним баллом выше {min_average}")
    
    except ValueError:
        # Обрабатываю ошибку неправильного ввода
        print("Ошибка: введите корректное число")